import{$,R as Vt,C as Nt,e as ke,b as ue,D as Ot,a as Ie,u as _e,B as le,m as fe,A as Pt,h as Re,t as $e,K as Fe,c as zt}from"./index-DTVa-pX3.js";const xt=Symbol("store-raw"),z=Symbol("store-node"),j=Symbol("store-has"),de=Symbol("store-self");function he(t){let e=t[$];if(!e&&(Object.defineProperty(t,$,{value:e=new Proxy(t,Ue)}),!Array.isArray(t))){const n=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let r=0,i=n.length;r<i;r++){const o=n[r];s[o].get&&Object.defineProperty(t,o,{enumerable:s[o].enumerable,get:s[o].get.bind(e)})}}return e}function I(t){let e;return t!=null&&typeof t=="object"&&(t[$]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function q(t,e=new Set){let n,s,r,i;if(n=t!=null&&t[xt])return n;if(!I(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)r=t[o],(s=q(r,e))!==r&&(t[o]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let c=0,l=o.length;c<l;c++)i=o[c],!a[i].get&&(r=t[i],(s=q(r,e))!==r&&(t[i]=s))}return t}function lt(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function J(t,e,n){if(t[e])return t[e];const[s,r]=ue(n,{equals:!1,internal:!0});return s.$=r,t[e]=s}function Be(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===$||e===z||(delete n.value,delete n.writable,n.get=()=>t[$][e]),n}function pe(t){Nt()&&J(lt(t,z),de)()}function We(t){return pe(t),Reflect.ownKeys(t)}const Ue={get(t,e,n){if(e===xt)return t;if(e===$)return n;if(e===Vt)return pe(t),n;const s=lt(t,z),r=s[e];let i=r?r():t[e];if(e===z||e===j||e==="__proto__")return i;if(!r){const o=Object.getOwnPropertyDescriptor(t,e);Nt()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(i=J(s,e,i)())}return I(i)?he(i):i},has(t,e){return e===xt||e===$||e===Vt||e===z||e===j||e==="__proto__"?!0:(Nt()&&J(lt(t,j),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:We,getOwnPropertyDescriptor:Be};function x(t,e,n,s=!1){if(!s&&t[e]===n)return;const r=t[e],i=t.length;n===void 0?(delete t[e],t[j]&&t[j][e]&&r!==void 0&&t[j][e].$()):(t[e]=n,t[j]&&t[j][e]&&r===void 0&&t[j][e].$());let o=lt(t,z),a;if((a=J(o,e,r))&&a.$(()=>n),Array.isArray(t)&&t.length!==i){for(let c=t.length;c<i;c++)(a=o[c])&&a.$();(a=J(o,"length",i))&&a.$(t.length)}(a=o[de])&&a.$()}function ye(t,e){const n=Object.keys(e);for(let s=0;s<n.length;s+=1){const r=n[s];x(t,r,e[r])}}function Ke(t,e){if(typeof e=="function"&&(e=e(t)),e=q(e),Array.isArray(e)){if(t===e)return;let n=0,s=e.length;for(;n<s;n++){const r=e[n];t[n]!==r&&x(t,n,r)}x(t,"length",s)}else ye(t,e)}function H(t,e,n=[]){let s,r=t;if(e.length>1){s=e.shift();const o=typeof s,a=Array.isArray(t);if(Array.isArray(s)){for(let c=0;c<s.length;c++)H(t,[s[c]].concat(e),n);return}else if(a&&o==="function"){for(let c=0;c<t.length;c++)s(t[c],c)&&H(t,[c].concat(e),n);return}else if(a&&o==="object"){const{from:c=0,to:l=t.length-1,by:u=1}=s;for(let h=c;h<=l;h+=u)H(t,[h].concat(e),n);return}else if(e.length>1){H(t[s],e,[s].concat(n));return}r=t[s],n=[s].concat(n)}let i=e[0];typeof i=="function"&&(i=i(r,n),i===r)||s===void 0&&i==null||(i=q(i),s===void 0||I(r)&&I(i)&&!Array.isArray(i)?ye(r,i):x(t,s,i))}function Ve(...[t,e]){const n=q(t||{}),s=Array.isArray(n),r=he(n);function i(...o){ke(()=>{s&&o.length===1?Ke(n,o[0]):H(n,o)})}return[r,i]}const Tt=Symbol("store-root");function U(t,e,n,s,r){const i=e[n];if(t===i)return;const o=Array.isArray(t);if(n!==Tt&&(!I(t)||!I(i)||o!==Array.isArray(i)||r&&t[r]!==i[r])){x(e,n,t);return}if(o){if(t.length&&i.length&&(!s||r&&t[0]&&t[0][r]!=null)){let l,u,h,d,m,E,b,S;for(h=0,d=Math.min(i.length,t.length);h<d&&(i[h]===t[h]||r&&i[h]&&t[h]&&i[h][r]===t[h][r]);h++)U(t[h],i,h,s,r);const g=new Array(t.length),w=new Map;for(d=i.length-1,m=t.length-1;d>=h&&m>=h&&(i[d]===t[m]||r&&i[d]&&t[m]&&i[d][r]===t[m][r]);d--,m--)g[m]=i[d];if(h>m||h>d){for(u=h;u<=m;u++)x(i,u,t[u]);for(;u<t.length;u++)x(i,u,g[u]),U(t[u],i,u,s,r);i.length>t.length&&x(i,"length",t.length);return}for(b=new Array(m+1),u=m;u>=h;u--)E=t[u],S=r&&E?E[r]:E,l=w.get(S),b[u]=l===void 0?-1:l,w.set(S,u);for(l=h;l<=d;l++)E=i[l],S=r&&E?E[r]:E,u=w.get(S),u!==void 0&&u!==-1&&(g[u]=i[l],u=b[u],w.set(S,u));for(u=h;u<t.length;u++)u in g?(x(i,u,g[u]),U(t[u],i,u,s,r)):x(i,u,t[u])}else for(let l=0,u=t.length;l<u;l++)U(t[l],i,l,s,r);i.length>t.length&&x(i,"length",t.length);return}const a=Object.keys(t);for(let l=0,u=a.length;l<u;l++)U(t[a[l]],i,a[l],s,r);const c=Object.keys(i);for(let l=0,u=c.length;l<u;l++)t[c[l]]===void 0&&x(i,c[l],void 0)}function ze(t,e={}){const{merge:n,key:s="id"}=e,r=q(t);return i=>{if(!I(i)||!I(r))return r;const o=U(r,{[Tt]:i},Tt,n,s);return o===void 0?i:o}}var me=()=>(t,e)=>Ot(t,e);function qe(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function yt(t={}){const{strict:e=!0,hookName:n="useContext",providerName:s="Provider",errorMessage:r,defaultValue:i}=t,o=Ie(i);function a(){const c=_e(o);if(!c&&e){const l=new Error(r??qe(n,s));throw l.name="ContextError",Error.captureStackTrace?.(l,a),l}return c}return[o.Provider,a,o]}var[lr,fr]=yt({hookName:"useRenderStrategyContext",providerName:"<RenderStrategyProvider />"}),Ge=t=>me()(t,["lazyMount","unmountOnExit"]);const Xe=Symbol(),qt=Object.getPrototypeOf,Mt=new WeakMap,Ye=t=>t&&(Mt.has(t)?Mt.get(t):qt(t)===Object.prototype||qt(t)===Array.prototype),He=t=>Ye(t)&&t[Xe]||null,Gt=(t,e=!0)=>{Mt.set(t,e)};function Ze(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function ge(t,e){const n=Ze();return n?(n[t]||(n[t]=e()),n[t]):e()}var Z=ge("__zag__refSet",()=>new WeakSet),Je=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,Qe=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,tn=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",en=t=>Je(t)||Qe(t)||tn(t),Ct=t=>t!==null&&typeof t=="object",jt=t=>Ct(t)&&!Z.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!en(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise);function Xt(t,e,n){typeof n.value=="object"&&!jt(n.value)&&(n.value=R(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function R(t){if(typeof t!="object")return t;var e=0,n,s,r,i=Object.prototype.toString.call(t);if(i==="[object Object]"?r=Object.create(Object.getPrototypeOf(t)||null):i==="[object Array]"?r=Array(t.length):i==="[object Set]"?(r=new Set,t.forEach(function(o){r.add(R(o))})):i==="[object Map]"?(r=new Map,t.forEach(function(o,a){r.set(R(a),R(o))})):i==="[object Date]"?r=new Date(+t):i==="[object RegExp]"?r=new RegExp(t.source,t.flags):i==="[object DataView]"?r=new t.constructor(R(t.buffer)):i==="[object ArrayBuffer]"?r=t.slice(0):i==="[object Blob]"?r=t.slice():i.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)Xt(r,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(r,n=s[e])&&r[n]===t[n]||Xt(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}var _=ge("__zag__proxyStateMap",()=>new WeakMap),nn=(t=Object.is,e=(a,c)=>new Proxy(a,c),n=new WeakMap,s=(a,c)=>{const l=n.get(a);if(l?.[0]===c)return l[1];const u=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return Gt(u,!0),n.set(a,[c,u]),Reflect.ownKeys(a).forEach(h=>{const d=Reflect.get(a,h);Z.has(d)?(Gt(d,!1),u[h]=d):_.has(d)?u[h]=K(d):u[h]=d}),Object.freeze(u)},r=new WeakMap,i=[1,1],o=a=>{if(!Ct(a))throw new Error("object required");const c=r.get(a);if(c)return c;let l=i[0];const u=new Set,h=(y,p=++i[0])=>{l!==p&&(l=p,u.forEach(v=>v(y,p)))};let d=i[1];const m=(y=++i[1])=>(d!==y&&!u.size&&(d=y,b.forEach(([p])=>{const v=p[1](y);v>l&&(l=v)})),l),E=y=>(p,v)=>{const O=[...p];O[1]=[y,...O[1]],h(O,v)},b=new Map,S=(y,p)=>{if(u.size){const v=p[3](E(y));b.set(y,[p,v])}else b.set(y,[p])},g=y=>{const p=b.get(y);p&&(b.delete(y),p[1]?.())},w=y=>(u.add(y),u.size===1&&b.forEach(([v,O],B)=>{const X=v[3](E(B));b.set(B,[v,X])}),()=>{u.delete(y),u.size===0&&b.forEach(([v,O],B)=>{O&&(O(),b.set(B,[v]))})}),N=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),C=e(N,{deleteProperty(y,p){const v=Reflect.get(y,p);g(p);const O=Reflect.deleteProperty(y,p);return O&&h(["delete",[p],v]),O},set(y,p,v,O){const B=Reflect.has(y,p),X=Reflect.get(y,p,O);if(B&&(t(X,v)||r.has(v)&&t(X,r.get(v))))return!0;g(p),Ct(v)&&(v=He(v)||v);let rt=v;if(!Object.getOwnPropertyDescriptor(y,p)?.set){!_.has(v)&&jt(v)&&(rt=It(v));const Kt=!Z.has(rt)&&_.get(rt);Kt&&S(p,Kt)}return Reflect.set(y,p,rt,O),h(["set",[p],v,X]),!0}});r.set(a,C);const Le=[N,m,s,w];return _.set(C,Le),Reflect.ownKeys(a).forEach(y=>{const p=Object.getOwnPropertyDescriptor(a,y);p.get||p.set?Object.defineProperty(N,y,p):C[y]=a[y]}),C})=>[o,_,Z,t,e,jt,n,s,r,i],[sn]=nn();function It(t={}){return sn(t)}function Yt(t,e,n){const s=_.get(t);let r;const i=[],o=s[3];let a=!1;const l=o(u=>{if(i.push(u),n){e(i.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function K(t){const e=_.get(t),[n,s,r]=e;return r(n,s())}function ft(t){return Z.add(t),t}function rn(t,e){Object.keys(e).forEach(r=>{if(Object.getOwnPropertyDescriptor(t,r))throw new Error("object property already defined");const i=e[r],{get:o,set:a}=typeof i=="function"?{get:i}:i,c={};c.get=()=>o(K(s)),a&&(c.set=l=>a(s,l)),Object.defineProperty(t,r,c)});const s=It(t);return s}var dr=t=>t[0],hr=t=>t[t.length-1],pr=(t,...e)=>t.concat(e),yr=(t,...e)=>t.filter(n=>!e.includes(n)),mr=t=>Array.from(new Set(t));function on(t){for(;t.length>0;)t.pop();return t}function an(t,e,n={}){const{step:s=1,loop:r=!0}=n,i=e+s,o=t.length,a=o-1;return e===-1?s>0?0:a:i<0?r?a:0:i>=o?r?0:e>o?o:e:i}function gr(t,e,n={}){const{step:s=1,loop:r=!0}=n;return an(t,e,{step:-s,loop:r})}var Ht=t=>t?.constructor.name==="Array",cn=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!ve(t[n],e[n]))return!1;return!0},ve=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof t?.isEqual=="function"&&typeof e?.isEqual=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(Ht(t)&&Ht(e))return cn(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),s=n.length;for(let r=0;r<s;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<s;r++){const i=n[r];if(!ve(t[i],e[i]))return!1}return!0},Zt=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,D=t=>t,un=()=>{},Dt=(...t)=>(...e)=>{t.forEach(function(n){n?.(...e)})},Jt=(()=>{let t=0;return()=>(t++,t.toString(36))})(),dt=t=>Array.isArray(t),Ee=t=>t!=null&&typeof t=="object",ot=t=>Ee(t)&&!dt(t),ln=t=>typeof t=="number"&&!Number.isNaN(t),P=t=>typeof t=="string",Q=t=>typeof t=="function",vr=t=>t==null,be=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),fn=t=>Object.prototype.toString.call(t),we=Function.prototype.toString,dn=we.call(Object),hn=t=>{if(!Ee(t)||fn(t)!="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=be(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&we.call(n)==dn};function ht(t){if(!pn(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const r=t[s];r!==void 0&&(n[s]=ht(r))}return n}var pn=t=>t&&typeof t=="object"&&t.constructor===Object;function at(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function ct(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}var yn=Object.defineProperty,mn=(t,e,n)=>e in t?yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f=(t,e,n)=>mn(t,typeof e!="symbol"?e+"":e,n);function Se(t,...e){for(const n of e){const s=ht(n);for(const r in s)hn(n[r])?(t[r]||(t[r]={}),Se(t[r],n[r])):t[r]=n[r]}return t}function T(t){return P(t)?{type:t}:t}function L(t){return t?dt(t)?t.slice():[t]:[]}function Ae(t){return ot(t)&&t.predicate!=null}var gn=()=>!0;function _t(t,e,n,s){return r=>P(r)?!!t[r]?.(e,n,s):Q(r)?r(e,n,s):r.predicate(t)(e,n,s)}function vn(...t){return{predicate:e=>(n,s,r)=>t.map(_t(e,n,s,r)).some(Boolean)}}function En(...t){return{predicate:e=>(n,s,r)=>t.map(_t(e,n,s,r)).every(Boolean)}}function bn(t){return{predicate:e=>(n,s,r)=>!_t(e,n,s,r)(t)}}function wn(...t){return(e,n,s)=>s.state.matches(...t)}var Er={or:vn,and:En,not:bn,stateIn:wn};function Ne(t,e){return t=t??gn,(n,s,r)=>{if(P(t)){const i=e[t];return Q(i)?i(n,s,r):i}return Ae(t)?t.predicate(e)(n,s,r):t?.(n,s,r)}}function vt(t,e){return(n,s,r)=>Ae(t)?t.predicate(e)(n,s,r):t}function Sn(t){const e=t.computed??D({}),n=t.context??D({}),s=t.initial?t.states?.[t.initial]?.tags:[],r=It({value:t.initial??"",previousValue:"",event:D({}),previousEvent:D({}),context:rn(n,e),done:!1,tags:s??[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return D(this).nextEvents.includes(i)},get nextEvents(){const i=t.states?.[this.value]?.on??{},o=t?.on??{};return Object.keys({...i,...o})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return D(r)}function Y(t,e){return(n,s)=>{if(ln(t))return t;if(Q(t))return t(n,s);if(P(t)){const r=Number.parseFloat(t);if(!Number.isNaN(r))return r;if(e){const i=e?.[t];return ct(i==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Q(i)?i(n,s):i}}}}function An(t){return P(t)?{target:t}:t}function Nn(t,e){return(n,s,r)=>L(t).map(An).find(i=>Ne(i.guard,e)(n,s,r)??i.target??i.actions)}var On=class{constructor(t,e){f(this,"status","Not Started"),f(this,"state"),f(this,"initialState"),f(this,"initialContext"),f(this,"id"),f(this,"type","machine"),f(this,"activityEvents",new Map),f(this,"delayedEvents",new Map),f(this,"stateListeners",new Set),f(this,"doneListeners",new Set),f(this,"contextWatchers",new Set),f(this,"removeStateListener",un),f(this,"parent"),f(this,"children",new Map),f(this,"guardMap"),f(this,"actionMap"),f(this,"delayMap"),f(this,"activityMap"),f(this,"sync"),f(this,"options"),f(this,"config"),f(this,"_created",()=>{if(!this.config.created)return;const n=T("machine.created");this.executeActions(this.config.created,n)}),f(this,"start",n=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=Yt(this.state,()=>{this.stateListeners.forEach(c=>{c(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(T("machine.start"),L(this.config.activities),"machine.start"),this.executeActions(this.config.entry,T("machine.start"));const s=T("machine.init"),r=ot(n)?n.value:n,i=ot(n)?n.context:void 0;i&&this.setContext(i);const o={target:r??this.config.initial},a=this.getNextStateInfo(o,s);return this.initialState=a,this.performStateChangeEffects(this.state.value,a,s),this}),f(this,"setupContextWatchers",()=>{const{watch:n}=this.config;if(!n)return;let s=K(this.state.context);const r=Yt(this.state.context,()=>{const i=K(this.state.context);for(const[o,a]of Object.entries(n))(this.options.compareFns?.[o]??Object.is)(s[o],i[o])||this.executeActions(a,this.state.event);s=i});this.contextWatchers.add(r)}),f(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,T("machine.stop")),this.executeActions(this.config.exit,T("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),f(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),f(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(n=>n()),this.contextWatchers.clear()}),f(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(n=>{n.forEach(s=>s())}),this.delayedEvents.clear()}),f(this,"stopActivities",n=>{n?(this.activityEvents.get(n)?.forEach(s=>s()),this.activityEvents.get(n)?.clear(),this.activityEvents.delete(n)):(this.activityEvents.forEach(s=>{s.forEach(r=>r()),s.clear()}),this.activityEvents.clear())}),f(this,"sendChild",(n,s)=>{const r=T(n),i=Zt(s,this.contextSnapshot),o=this.children.get(i);o||ct(`[@zag-js/core] Cannot send '${r.type}' event to unknown child`),o.send(r)}),f(this,"stopChild",n=>{this.children.has(n)||ct(`[@zag-js/core > stop-child] Cannot stop unknown child ${n}`),this.children.get(n).stop(),this.children.delete(n)}),f(this,"removeChild",n=>{this.children.delete(n)}),f(this,"stopChildren",()=>{this.children.forEach(n=>n.stop()),this.children.clear()}),f(this,"setParent",n=>{this.parent=n}),f(this,"spawn",(n,s)=>{const r=Zt(n);return s&&(r.id=s),r.type="machine.actor",r.setParent(this),this.children.set(r.id,D(r)),r.onDone(()=>{this.removeChild(r.id)}).start(),D(ft(r))}),f(this,"stopActivity",n=>{if(!this.state.value)return;const s=this.activityEvents.get(this.state.value);s?.get(n)?.(),s?.delete(n)}),f(this,"addActivityCleanup",(n,s,r)=>{n&&(this.activityEvents.has(n)?this.activityEvents.get(n)?.set(s,r):this.activityEvents.set(n,new Map([[s,r]])))}),f(this,"setState",n=>{this.state.previousValue=this.state.value,this.state.value=n;const s=this.getStateNode(n);n==null?on(this.state.tags):this.state.tags=L(s?.tags)}),f(this,"setContext",n=>{n&&Se(this.state.context,ht(n))}),f(this,"setOptions",n=>{const s=ht(n);this.actionMap={...this.actionMap,...s.actions},this.delayMap={...this.delayMap,...s.delays},this.activityMap={...this.activityMap,...s.activities},this.guardMap={...this.guardMap,...s.guards}}),f(this,"getStateNode",n=>{if(n)return this.config.states?.[n]}),f(this,"getNextStateInfo",(n,s)=>{const r=this.determineTransition(n,s),i=!r?.target,o=r?.target??this.state.value,a=this.state.value!==o,c=this.getStateNode(o),u={reenter:!i&&!a&&!r?.internal,transition:r,stateNode:c,target:o,changed:a};return this.log("NextState:",`[${s.type}]`,this.state.value,"---->",u.target),u}),f(this,"getAfterActions",(n,s)=>{let r;const i=this.state.value;return{entry:()=>{r=globalThis.setTimeout(()=>{const o=this.getNextStateInfo(n,this.state.event);this.performStateChangeEffects(i,o,this.state.event)},s)},exit:()=>{globalThis.clearTimeout(r)}}}),f(this,"getDelayedEventActions",n=>{const s=this.getStateNode(n),r=this.state.event;if(!s||!s.after)return;const i=[],o=[];if(dt(s.after)){const a=this.determineTransition(s.after,r);if(!a)return;if(!be(a,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(a)}`);const l=Y(a.delay,this.delayMap)(this.contextSnapshot,r),u=this.getAfterActions(a,l);return i.push(u.entry),o.push(u.exit),{entries:i,exits:o}}if(ot(s.after))for(const a in s.after){const c=s.after[a],u=Y(a,this.delayMap)(this.contextSnapshot,r),h=this.getAfterActions(c,u);i.push(h.entry),o.push(h.exit)}return{entries:i,exits:o}}),f(this,"executeActions",(n,s)=>{const r=vt(n,this.guardMap)(this.contextSnapshot,s,this.guardMeta);for(const i of L(r)){const o=P(i)?this.actionMap?.[i]:i;at(P(i)&&!o,`[@zag-js/core > execute-actions] No implementation found for action: \`${i}\``),o?.(this.state.context,s,this.meta)}}),f(this,"executeActivities",(n,s,r)=>{for(const i of s){const o=P(i)?this.activityMap?.[i]:i;if(!o){at(`[@zag-js/core > execute-activity] No implementation found for activity: \`${i}\``);continue}const a=o(this.state.context,n,this.meta);if(a){const c=P(i)?i:i.name||Jt();this.addActivityCleanup(r??this.state.value,c,a)}}}),f(this,"createEveryActivities",(n,s)=>{if(n)if(dt(n)){const r=L(n).find(c=>{const l=c.delay,h=Y(l,this.delayMap)(this.contextSnapshot,this.state.event);return Ne(c.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??h!=null});if(!r)return;const o=Y(r.delay,this.delayMap)(this.contextSnapshot,this.state.event);s(()=>{const c=globalThis.setInterval(()=>{this.executeActions(r.actions,this.state.event)},o);return()=>{globalThis.clearInterval(c)}})}else for(const r in n){const i=n?.[r],a=Y(r,this.delayMap)(this.contextSnapshot,this.state.event);s(()=>{const l=globalThis.setInterval(()=>{this.executeActions(i,this.state.event)},a);return()=>{globalThis.clearInterval(l)}})}}),f(this,"setEvent",n=>{this.state.previousEvent=this.state.event,this.state.event=ft(T(n))}),f(this,"performExitEffects",(n,s)=>{const r=this.state.value;if(r==="")return;const i=n?this.getStateNode(n):void 0;this.stopActivities(r);const o=vt(i?.exit,this.guardMap)(this.contextSnapshot,s,this.guardMeta),a=L(o),c=this.delayedEvents.get(r);c&&a.push(...c),this.executeActions(a,s),this.delayedEvents.delete(r)}),f(this,"performEntryEffects",(n,s)=>{const r=this.getStateNode(n),i=L(r?.activities);this.createEveryActivities(r?.every,l=>{i.unshift(l)}),i.length>0&&this.executeActivities(s,i);const o=vt(r?.entry,this.guardMap)(this.contextSnapshot,s,this.guardMeta),a=L(o),c=this.getDelayedEventActions(n);r?.after&&c&&(this.delayedEvents.set(n,c?.exits),a.push(...c.entries)),this.executeActions(a,s),r?.type==="final"&&(this.state.done=!0,this.doneListeners.forEach(l=>{l(this.stateSnapshot)}),this.stop())}),f(this,"performTransitionEffects",(n,s)=>{const r=this.determineTransition(n,s);this.executeActions(r?.actions,s)}),f(this,"performStateChangeEffects",(n,s,r)=>{this.setEvent(r);const i=s.changed||s.reenter;i&&this.performExitEffects(n,r),this.performTransitionEffects(s.transition,r),this.setState(s.target),i&&this.performEntryEffects(s.target,r)}),f(this,"determineTransition",(n,s)=>Nn(n,this.guardMap)?.(this.contextSnapshot,s,this.guardMeta)),f(this,"sendParent",n=>{this.parent||ct("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const s=T(n);this.parent?.send(s)}),f(this,"log",(...n)=>{}),f(this,"send",n=>{const s=T(n);this.transition(this.state.value,s)}),f(this,"transition",(n,s)=>{const r=P(n)?this.getStateNode(n):n?.stateNode,i=T(s);if(!r&&!this.config.on){const c=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${n}, \`event\`: ${i.type}`;at(c);return}const o=r?.on?.[i.type]??this.config.on?.[i.type],a=this.getNextStateInfo(o,i);return this.performStateChangeEffects(this.state.value,a,i),a.stateNode}),f(this,"subscribe",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),()=>{this.stateListeners.delete(n)})),f(this,"onDone",n=>(this.doneListeners.add(n),this)),f(this,"onTransition",n=>(this.stateListeners.add(n),this.status==="Running"&&n(this.stateSnapshot),this)),this.config=R(t),this.options=R(e??{}),this.id=this.config.id??`machine-${Jt()}`,this.guardMap=this.options?.guards??{},this.actionMap=this.options?.actions??{},this.delayMap=this.options?.delays??{},this.activityMap=this.options?.activities??{},this.sync=this.options?.sync??!1,this.state=Sn(this.config),this.initialContext=K(this.state.context)}get stateSnapshot(){return D(K(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){return t.initialState?.target??""}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:this.initialState?.target??"",getState:()=>this.stateSnapshot,getAction:t=>this.actionMap[t],getGuard:t=>this.guardMap[t]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const t=this.getState();return{value:t.value,tags:t.tags}}},Pn=(t,e)=>new On(t,e),xn=(...t)=>t.map(e=>e?.trim?.()).filter(Boolean).join(" "),Tn=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Qt=t=>{const e={};let n;for(;n=Tn.exec(t);)e[n[1]]=n[2];return e},Mn=(t,e)=>{if(P(t)){if(P(e))return`${t};${e}`;t=Qt(t)}else P(e)&&(e=Qt(e));return Object.assign({},t??{},e??{})};function Cn(...t){let e={};for(let n of t){for(let s in e){if(s.startsWith("on")&&typeof e[s]=="function"&&typeof n[s]=="function"){e[s]=Dt(n[s],e[s]);continue}if(s==="className"||s==="class"){e[s]=xn(e[s],n[s]);continue}if(s==="style"){e[s]=Mn(e[s],n[s]);continue}e[s]=n[s]!==void 0?n[s]:e[s]}for(let s in n)e[s]===void 0&&(e[s]=n[s])}return e}function jn(t){return new Proxy({},{get(){return t}})}var Dn=()=>t=>Array.from(new Set(t));function Ln(...t){const e={};for(let n=0;n<t.length;n++){let s=t[n];if(typeof s=="function"&&(s=s()),s){const r=Object.getOwnPropertyDescriptors(s);for(const i in r)i in e||Object.defineProperty(e,i,{enumerable:!0,get(){let o={};if(i==="style"||i==="class"||i==="className"||i.startsWith("on")){for(let a=0;a<t.length;a++){let c=t[a];typeof c=="function"&&(c=c()),o=Cn(o,{[i]:(c||{})[i]})}return o[i]}for(let a=t.length-1;a>=0;a--){let c,l=t[a];if(typeof l=="function"&&(l=l()),c=(l||{})[i],c!==void 0)return c}}})}}return e}var kn=t=>Array.isArray(t),In=t=>t!=null&&typeof t=="object",_n=t=>In(t)&&!kn(t),Rn=t=>typeof t=="number"&&!Number.isNaN(t),Oe=t=>typeof t=="string",$n=Function.prototype.toString;$n.call(Object);var te={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},Fn=t=>t.startsWith("--")?t:zn(t);function Bn(t){return t in te?te[t]:t}var br=jn(t=>{const e={};for(const n in t){const s=t[n];if(!(n==="readOnly"&&s===!1)){if(n==="style"&&_n(s)){e.style=Wn(s);continue}if(n==="children"){Oe(s)&&(e.textContent=s);continue}e[Bn(n)]=s}}return e});function Wn(t){let e={};for(const n in t){const s=t[n];!Oe(s)&&!Rn(s)||(e[Fn(n)]=s)}return e}var Un=/[A-Z]/g,Kn=/^ms-/;function Vn(t){return"-"+t.toLowerCase()}var Et={};function zn(t){if(Et.hasOwnProperty(t))return Et[t];var e=t.replace(Un,Vn);return Et[t]=Kn.test(e)?"-"+e:e}function qn(t,e){const{actions:n,context:s}=e??{},[r,i]=Ve(t.getState());return le(()=>{const o=t.subscribe(a=>{i(ze(a))});fe(()=>{o()})}),Pt(()=>{const o=typeof s=="function"?s():s;t.setContext(o)}),Pt(()=>{t.setOptions({actions:n})}),r}function Gn(t,e){const{state:n,context:s}=e??{},r=(()=>{const i=typeof t=="function"?t():t,o=typeof s=="function"?s():s;return o&&i.setContext(o),i._created(),i})();return le(()=>{r.start(n),fe(()=>{r.stop()})}),r}function Xn(t,e){const n=Gn(t,e);return[qn(n,e),n.send,n]}var bt=t=>n=>{const[s,r]=Ot(n,["asChild"]);if(s.asChild){const i=o=>{const[,a]=Ot(r,["ref"]);return Ln(a,o)};return s.asChild(i)}return Re(Fe,$e({component:t},r))};function Yn(){const t=new Map;return new Proxy(bt,{apply(e,n,s){return bt(s[0])},get(e,n){const s=n;return t.has(s)||t.set(s,bt(s)),t.get(s)}})}var wr=Yn();function Hn(t,e,n){const s=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&s,present:s,setNode(r){r&&e({type:"NODE.SET",node:r})},unmount(){e({type:"UNMOUNT"})}}}function Zn(t){return Pn({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){return ee(e.styles?.animationDuration)+ee(e.styles?.animationDelay)+Jn}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){e.onExitComplete?.()},setNode(e,n){e.node=ft(n.node)},setStyles(e,n){const s=n.node.ownerDocument.defaultView||window;e.styles=ft(s.getComputedStyle(n.node))},syncPresence(e,n,{send:s}){if(e.present){s({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&e.node?.ownerDocument.visibilityState==="hidden"){s({type:"UNMOUNT",src:"visibilitychange"});return}const r=it(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.unmountAnimationName=r,r==="none"||r===e.prevAnimationName||e.styles?.display==="none"||e.styles?.animationDuration==="0s"?s({type:"UNMOUNT",src:"presence.changed"}):s({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=it(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,n,{send:s}){const r=e.node;if(!r)return;const i=a=>{(a.composedPath?.()?.[0]??a.target)===r&&(e.prevAnimationName=it(e.styles))},o=a=>{const c=it(e.styles);(a.composedPath?.()?.[0]??a.target)===r&&c===e.unmountAnimationName&&s({type:"UNMOUNT",src:"animationend"})};return r.addEventListener("animationstart",i),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o),()=>{r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o)}}}})}function it(t){return t?.animationName||"none"}function ee(t){return parseFloat(t||"0")*1e3}var Jn=16.667;Dn()(["onExitComplete","present","immediate"]);var Sr=t=>me()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]),Ar=t=>{const[e,n]=Ge(t),[s,r]=ue(!1),[i,o]=Xn(Zn(n),{context:n}),a=zt(()=>Hn(i,o));return Pt(()=>{a().present&&r(!0)}),zt(()=>({unmounted:!a().present&&!s()&&e.lazyMount||e.unmountOnExit&&!a().present&&s(),present:a().present,presenceProps:{ref:a().setNode,hidden:!a().present,"data-state":n.present?"open":"closed"}}))},[Nr,Or]=yt({hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),Qn=(t,e)=>t.map((n,s)=>t[(Math.max(e,0)+s)%t.length]),mt=t=>typeof t=="object"&&t!==null,Pr=t=>t?"":void 0,xr=t=>t?"true":void 0,ts=1,es=9,ns=11,A=t=>mt(t)&&t.nodeType===ts&&typeof t.nodeName=="string",Pe=t=>mt(t)&&t.nodeType===es,ss=t=>mt(t)&&t===t.window,xe=t=>A(t)?t.localName||"":"#document";function rs(t){return["html","body","#document"].includes(xe(t))}var is=t=>mt(t)&&t.nodeType!==void 0,pt=t=>is(t)&&t.nodeType===ns&&"host"in t,os=t=>A(t)&&t.localName==="input",Tr=t=>!!t?.matches("a[href]"),as=t=>A(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,cs=/(textarea|select)/;function us(t){if(t==null||!A(t))return!1;try{return os(t)&&t.selectionStart!=null||cs.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function tt(t,e){if(!t||!e||!A(t)||!A(e))return!1;const n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&pt(n)){let s=e;for(;s;){if(t===s)return!0;s=s.parentNode||s.host}}return!1}function G(t){return Pe(t)?t:ss(t)?t.document:t?.ownerDocument??document}function ls(t){return G(t).documentElement}function gt(t){return pt(t)?gt(t.host):Pe(t)?t.defaultView??window:A(t)?t.ownerDocument?.defaultView??window:window}function fs(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function ds(t){if(xe(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pt(t)&&t.host||ls(t);return pt(e)?e.host:e}var wt=new WeakMap;function Mr(t){return wt.has(t)||wt.set(t,gt(t).getComputedStyle(t)),wt.get(t)}var Rt=()=>typeof document<"u";function hs(){return navigator.userAgentData?.platform??navigator.platform}function ps(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var $t=t=>Rt()&&t.test(hs()),ys=t=>Rt()&&t.test(ps()),ms=t=>Rt()&&t.test(navigator.vendor),gs=()=>$t(/^Mac/),Cr=()=>Te()&&ms(/apple/i),vs=()=>ys(/firefox\//i),Te=()=>$t(/mac|iphone|ipad|ipod/i),Me=()=>$t(/iP(hone|ad|od)|iOS/);function Es(t){return t.composedPath?.()??t.nativeEvent?.composedPath?.()}function et(t){return Es(t)?.[0]??t.target}var jr=t=>tt(t.currentTarget,et(t));function Dr(t){const e=t.currentTarget;if(!e)return!1;const n=Te();if(n&&!t.metaKey||!n&&!t.ctrlKey)return!1;const s=e.localName;return s==="a"||s==="button"&&e.type==="submit"||s==="input"&&e.type==="submit"}function Lr(t){const e=t.currentTarget;if(!e)return!1;const n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function kr(t){return As(t).isComposing}function Ir(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var bs=t=>t.button===2||gs()&&t.ctrlKey&&t.button===0,_r=t=>t.ctrlKey||t.altKey||t.metaKey,ws=t=>"touches"in t&&t.touches.length>0,Ss={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},ne={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Rr(t,e={}){const{dir:n="ltr",orientation:s="horizontal"}=e;let r=t.key;return r=Ss[r]??r,n==="rtl"&&s==="horizontal"&&r in ne&&(r=ne[r]),r}function As(t){return t.nativeEvent??t}function Ns(t,e="client"){const n=ws(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var k=(t,e,n,s)=>{const r=typeof t=="function"?t():t;return r?.addEventListener(e,n,s),()=>{r?.removeEventListener(e,n,s)}},Ce=t=>A(t)&&t.tagName==="IFRAME",Os=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),Ps=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Ft="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",xs=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Ft));(e==!0||e=="if-empty"&&n.length===0)&&A(t)&&nt(t)&&n.unshift(t);const r=n.filter(nt);return r.forEach((i,o)=>{if(Ce(i)&&i.contentDocument){const a=i.contentDocument.body;r.splice(o,1,...xs(a))}}),r};function nt(t){return!t||t.closest("[inert]")?!1:t.matches(Ft)&&as(t)}function Bt(t,e){if(!t)return[];const n=Array.from(t.querySelectorAll(Ft)),s=n.filter(Ts);return s.forEach((r,i)=>{if(Ce(r)&&r.contentDocument){const o=r.contentDocument.body,a=Bt(o);s.splice(i,1,...a)}}),!s.length&&e?n:s}function Ts(t){return t!=null&&t.tabIndex>0?!0:nt(t)&&!Ps(t)}function Ms(t,e){const n=Bt(t,e),s=n[0]||null,r=n[n.length-1]||null;return[s,r]}function $r(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||us(t))&&!Os(t)?0:t.tabIndex}function Fr(t){const{root:e,getInitialEl:n,filter:s,enabled:r=!0}=t;if(!r)return;let i=null;if(i||(i=typeof n=="function"?n():n),i||(i=e?.querySelector("[data-autofocus],[autofocus]")),!i){const o=Bt(e);i=s?o.filter(s)[0]:o[0]}return i||e||void 0}function Br(t){const e=t.currentTarget;if(!e)return!1;const[n,s]=Ms(e),r=e.ownerDocument||document;return!(r.activeElement===n&&t.shiftKey||r.activeElement===s&&!t.shiftKey||!n&&!s)}function Cs(t){const e=new Set;function n(s){const r=globalThis.requestAnimationFrame(s);e.add(()=>globalThis.cancelAnimationFrame(r))}return n(()=>n(t)),function(){e.forEach(r=>r())}}function F(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function js(t,e,n){const s=F(()=>{t.removeEventListener(e,r,!0),n()}),r=()=>{s(),n()};return t.addEventListener(e,r,{once:!0,capture:!0}),s}function Ds(t,e){if(!t)return;const{attributes:n,callback:s}=e,r=t.ownerDocument.defaultView||window,i=new r.MutationObserver(o=>{for(const a of o)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&s(a)});return i.observe(t,{attributes:!0,attributeFilter:n}),()=>i.disconnect()}function Wr(t,e){const{defer:n}=e,s=n?F:i=>i(),r=[];return r.push(s(()=>{const i=typeof t=="function"?t():t;r.push(Ds(i,e))})),()=>{r.forEach(i=>i?.())}}function Ur(t){const e=()=>t.click();vs()?js(t,"keyup",e):queueMicrotask(e)}function Lt(t){const e=ds(t);return rs(e)?G(e).body:A(e)&&je(e)?e:Lt(e)}var Ls=/auto|scroll|overlay|hidden|clip/;function je(t){const e=gt(t),{overflow:n,overflowX:s,overflowY:r,display:i}=e.getComputedStyle(t);return Ls.test(n+r+s)&&!["inline","contents"].includes(i)}function ks(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function Kr(t,e){const{rootEl:n,...s}=e||{};!t||!n||!je(n)||!ks(n)||t.scrollIntoView(s)}var V="default",kt="",ut=new WeakMap;function Is(t={}){const{target:e,doc:n}=t,s=n??document,r=s.documentElement;return Me()?(V==="default"&&(kt=r.style.webkitUserSelect,r.style.webkitUserSelect="none"),V="disabled"):e&&(ut.set(e,e.style.userSelect),e.style.userSelect="none"),()=>_s({target:e,doc:s})}function _s(t={}){const{target:e,doc:n}=t,r=(n??document).documentElement;if(Me()){if(V!=="disabled")return;V="restoring",setTimeout(()=>{Cs(()=>{V==="restoring"&&(r.style.webkitUserSelect==="none"&&(r.style.webkitUserSelect=kt||""),kt="",V="default")})},300)}else if(e&&ut.has(e)){const i=ut.get(e);e.style.userSelect==="none"&&(e.style.userSelect=i??""),e.getAttribute("style")===""&&e.removeAttribute("style"),ut.delete(e)}}function Rs(t={}){const{defer:e,target:n,...s}=t,r=e?F:o=>o(),i=[];return i.push(r(()=>{const o=typeof n=="function"?n():n;i.push(Is({...s,target:o}))})),()=>{i.forEach(o=>o?.())}}function Vr(t,e){const{onPointerMove:n,onPointerUp:s}=e,i=[k(t,"pointermove",o=>{const a=Ns(o),c=Math.sqrt(a.x**2+a.y**2),l=o.pointerType==="touch"?10:5;if(!(c<l)){if(o.pointerType==="mouse"&&o.button===0){s();return}n({point:a,event:o})}},!1),k(t,"pointerup",s,!1),k(t,"pointercancel",s,!1),k(t,"contextmenu",s,!1),Rs({doc:t})];return()=>{i.forEach(o=>o())}}function zr(t,e){return Array.from(t?.querySelectorAll(e)??[])}var Wt=t=>t.id;function $s(t,e,n=Wt){return t.find(s=>n(s)===e)}function Ut(t,e,n=Wt){const s=$s(t,e,n);return s?t.indexOf(s):-1}function qr(t,e,n=!0){let s=Ut(t,e);return s=n?(s+1)%t.length:Math.min(s+1,t.length-1),t[s]}function Gr(t,e,n=!0){let s=Ut(t,e);return s===-1?n?t[t.length-1]:null:(s=n?(s-1+t.length)%t.length:Math.max(0,s-1),t[s])}function Xr(t){const e={getRootNode:n=>n.getRootNode?.()??document,getDoc:n=>G(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>fs(e.getRootNode(n)),isActiveElement:(n,s)=>s===e.getActiveElement(n),getById:(n,s)=>e.getRootNode(n).getElementById(s),setValue:(n,s)=>{if(n==null||s==null)return;const r=s.toString();n.value!==r&&(n.value=s.toString())}};return{...e,...t}}var Fs=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),Bs=t=>Fs(t.dataset?.valuetext??t.textContent??""),Ws=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function Us(t,e,n,s=Wt){const r=n?Ut(t,n,s):-1;let i=n?Qn(t,r):t;return e.length===1&&(i=i.filter(a=>s(a)!==n)),i.find(a=>Ws(Bs(a),e))}var St=new WeakMap;function Ks(t,e,n){St.has(t)||St.set(t,new Map);const s=St.get(t),r=s.get(e);if(!r)return s.set(e,n()),()=>{s.get(e)?.(),s.delete(e)};const i=n(),o=()=>{i(),r(),s.delete(e)};return s.set(e,o),()=>{s.get(e)===o&&(i(),s.set(e,r))}}function Vs(t,e){return t?Ks(t,"style",()=>{const s=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=s}}):()=>{}}function zs(t,e){const{state:n,activeId:s,key:r,timeout:i=350,itemToId:o}=e,a=n.keysSoFar+r,l=a.length>1&&Array.from(a).every(E=>E===a[0])?a[0]:a;let u=t.slice();const h=Us(u,l,s,o);function d(){clearTimeout(n.timer),n.timer=-1}function m(E){n.keysSoFar=E,d(),E!==""&&(n.timer=+setTimeout(()=>{m(""),d()},i))}return m(a),h}var Yr=Object.assign(zs,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:qs});function qs(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var Gs=1e3/60;function Xs(t,e){const n=t();if(A(n)&&n.isConnected)return e(n),()=>{};{const s=setInterval(()=>{const r=t();A(r)&&r.isConnected&&(e(r),clearInterval(s))},Gs);return()=>clearInterval(s)}}function Ys(t,e){const n=[];return t?.forEach(s=>{const r=Xs(s,e);n.push(r)}),()=>{n.forEach(s=>s())}}var[Hr,Zr]=yt({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window})}),[Jr,Qr]=yt({hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:()=>({dir:"ltr",locale:"en-US"})}),Hs=Object.defineProperty,ti=(t,e)=>{for(var n in e)Hs(t,n,{get:e[n],enumerable:!0})},At=(t,e=[])=>({parts:(...n)=>{if(Zs(e))return At(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>At(t,[...e,...n]),rename:n=>At(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,s)=>Object.assign(n,{[s]:{selector:[`&[data-scope="${W(t)}"][data-part="${W(s)}"]`,`& [data-scope="${W(t)}"][data-part="${W(s)}"]`].join(", "),attrs:{"data-scope":W(t),"data-part":W(s)}}}),{})}),W=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Zs=t=>t.length===0;function Js(t){const e={each(n){for(let s=0;s<t.frames?.length;s+=1){const r=t.frames[s];r&&n(r)}},addEventListener(n,s,r){return e.each(i=>{try{i.document.addEventListener(n,s,r)}catch{}}),()=>{try{e.removeEventListener(n,s,r)}catch{}}},removeEventListener(n,s,r){e.each(i=>{try{i.document.removeEventListener(n,s,r)}catch{}})}};return e}function Qs(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,s,r)=>{try{e?.addEventListener(n,s,r)}catch{}return()=>{try{e?.removeEventListener(n,s,r)}catch{}}},removeEventListener:(n,s,r)=>{try{e?.removeEventListener(n,s,r)}catch{}}}}var se="pointerdown.outside",re="focus.outside";function tr(t){for(const e of t)if(A(e)&&nt(e))return!0;return!1}var De=t=>"clientY"in t;function er(t,e){if(!De(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function nr(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function ie(t,e){if(!e||!De(t))return!1;const n=e.scrollHeight>e.clientHeight,s=n&&t.clientX>e.offsetLeft+e.clientWidth,r=e.scrollWidth>e.clientWidth,i=r&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(r?16:0)},a={x:t.clientX,y:t.clientY};return nr(o,a)?s||i:!1}function sr(t,e){const{exclude:n,onFocusOutside:s,onPointerDownOutside:r,onInteractOutside:i,defer:o}=e;if(!t)return;const a=G(t),c=gt(t),l=Js(c),u=Qs(c);function h(g){const w=et(g);if(!A(w)||!w.isConnected||tt(t,w)||er(t,g))return!1;const N=a.querySelector(`[aria-controls="${t.id}"]`);if(N){const C=Lt(N);if(ie(g,C))return!1}const st=Lt(t);return ie(g,st)?!1:!n?.(w)}const d=new Set;function m(g){function w(){const N=o?F:C=>C(),st=g.composedPath?.()??[g.target];N(()=>{if(!(!t||!h(g))){if(r||i){const C=Dt(r,i);t.addEventListener(se,C,{once:!0})}oe(t,se,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,contextmenu:bs(g),focusable:tr(st)}})}})}g.pointerType==="touch"?(d.forEach(N=>N()),d.add(k(a,"click",w,{once:!0})),d.add(u.addEventListener("click",w,{once:!0})),d.add(l.addEventListener("click",w,{once:!0}))):w()}const E=new Set,b=setTimeout(()=>{E.add(k(a,"pointerdown",m,!0)),E.add(u.addEventListener("pointerdown",m,!0)),E.add(l.addEventListener("pointerdown",m,!0))},0);function S(g){(o?F:N=>N())(()=>{if(!(!t||!h(g))){if(s||i){const N=Dt(s,i);t.addEventListener(re,N,{once:!0})}oe(t,re,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,contextmenu:!1,focusable:nt(et(g))}})}})}return E.add(k(a,"focusin",S,!0)),E.add(u.addEventListener("focusin",S,!0)),E.add(l.addEventListener("focusin",S,!0)),()=>{clearTimeout(b),d.forEach(g=>g()),E.forEach(g=>g())}}function rr(t,e){const{defer:n}=e,s=n?F:i=>i(),r=[];return r.push(s(()=>{const i=typeof t=="function"?t():t;r.push(sr(i,e))})),()=>{r.forEach(i=>i?.())}}function oe(t,e,n){const s=t.ownerDocument.defaultView||window,r=new s.CustomEvent(e,n);return t.dispatchEvent(r)}function ir(t,e){const n=s=>{s.key==="Escape"&&(s.isComposing||e?.(s))};return k(G(t),"keydown",n,{capture:!0})}var M={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf(this.topMostPointerBlockingLayer()?.node):-1;return e<n},isTopMost(t){return this.layers[this.count()-1]?.node===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>tt(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>tt(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(s=>s.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){this.layers[this.indexOf(t)]?.dismiss()},clear(){this.remove(this.layers[0].node)}},ae;function ce(){M.layers.forEach(({node:t})=>{t.style.pointerEvents=M.isBelowPointerBlockingLayer(t)?"none":"auto"})}function or(t){t.style.pointerEvents=""}function ar(t,e){const n=G(t),s=[];if(M.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(ae=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const r=Ys(e,i=>{s.push(Vs(i,{pointerEvents:"auto"}))});s.push(r)}return()=>{M.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=ae,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),s.forEach(r=>r()))}}function cr(t,e){if(!t){at("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:n,pointerBlocking:s,exclude:r,debug:i}=e,o={dismiss:n,node:t,pointerBlocking:s};M.add(o),ce();function a(d){const m=et(d.detail.originalEvent);M.isBelowPointerBlockingLayer(t)||M.isInBranch(m)||(e.onPointerDownOutside?.(d),e.onInteractOutside?.(d),!d.defaultPrevented&&(i&&console.log("onPointerDownOutside:",d.detail.originalEvent),n?.()))}function c(d){const m=et(d.detail.originalEvent);M.isInBranch(m)||(e.onFocusOutside?.(d),e.onInteractOutside?.(d),!d.defaultPrevented&&(i&&console.log("onFocusOutside:",d.detail.originalEvent),n?.()))}function l(d){M.isTopMost(t)&&(e.onEscapeKeyDown?.(d),!d.defaultPrevented&&n&&(d.preventDefault(),n()))}function u(d){if(!t)return!1;const m=typeof r=="function"?r():r,E=Array.isArray(m)?m:[m],b=e.persistentElements?.map(S=>S()).filter(A);return b&&E.push(...b),E.some(S=>tt(S,d))||M.isInNestedLayer(t,d)}const h=[s?ar(t,e.persistentElements):void 0,ir(t,l),rr(t,{exclude:u,onFocusOutside:c,onPointerDownOutside:a,defer:e.defer})];return()=>{M.remove(t),ce(),or(t),h.forEach(d=>d?.())}}function ei(t,e){const{defer:n}=e,s=n?F:i=>i(),r=[];return r.push(s(()=>{const i=Q(t)?t():t;r.push(cr(i,e))})),()=>{s(()=>{r.forEach(i=>i?.())})}}export{Dr as $,Tr as A,ve as B,xs as C,yt as D,me as E,fr as F,Ar as G,Ln as H,wr as I,Ge as J,Qr as K,Zr as L,Xn as M,br as N,Yr as O,Nr as P,Ns as Q,lr as R,Cn as S,bs as T,et as U,Br as V,Ir as W,_r as X,us as Y,Lr as Z,ti as _,vr as a,ei as a0,k as a1,Wr as a2,ft as a3,D as a4,Fr as a5,tt as a6,Kr as a7,Or as a8,Sr as a9,G as aa,Bt as ab,Ts as ac,$r as ad,Pe as ae,nt as af,fs as ag,Me as ah,xr as ai,ot as aj,pr as ak,yr as al,mr as am,Vr as an,an as ao,gr as ap,Zt as b,Mr as c,ht as d,At as e,Xr as f,gt as g,Pr as h,A as i,jr as j,kr as k,Rr as l,Cr as m,un as n,Pn as o,Ur as p,Dn as q,F as r,zr as s,dr as t,hr as u,qr as v,Gr as w,$s as x,Er as y,Cs as z};
